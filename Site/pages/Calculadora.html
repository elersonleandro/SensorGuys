<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Coffee</title>
    <link rel="stylesheet" href="../style/landingpage.css">
    <link rel="stylesheet" href="../style/header.css">
    <link rel="stylesheet" href="../style/calculadora.css">
    <link rel="stylesheet" href="../style/footer.css">
</head>

<body>
    <header>
        <div class="header">
            <div class="header_left">
                <a href="../index.html"><img src="../img/logo_image.png" alt="logo do projeto"></a>
            </div>
            <nav class="navbar">
                <div class="header_center">
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="../pages/Calculadora.html">Calculadora </a></li>
                    </ul>
                </div>
                <div class="header_right">
                    <ul>
                        <img src="../img/headerLinha.png" alt="">
                        <li><a href="../pages/Login.html">Entrar</a></li>
                    </ul>
            </nav>
        </div>
        </div>
    </header>
    <br><br><br><br><br>
    <div class="corpo">
        <div class="corpo_dentro">
            <div class="texto">
                <p class="titulo_calculadora">
                    Com base nas suas perdas<br>
                    proteje seus ganhos
                </p>
                <p class="descricao_calculadora">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                    Ut dapibus placerat lorem, sed tristique metus faucibus ut.
                    Aenean ut consectetur ligula. Mauris ac felis a nisl iaculis egestas.
                    Curabitur orci ligula, lobortis at commodo sed, hendrerit sit amet felis.
                    Curabitur pellentesque mi mollis rhoncus congue. Mauris consequat, magna nec vehicula ultricies,
                    Curabitur orci ligula, lobortis at commodo sed, hendrerit sit amet felis.
                    Curabitur pellentesque mi mollis rhoncus congue. Mauris consequat, magna nec vehicula ultricies,
                </p>
            </div>
            <div class="caixa1">
                <h2>Calculadora Financeira</h2>
                <p>Café Robusta ou Arábica?</p>
                <select name="" id="select_cafe" class="select">
                    <option value="" selected disabled>Selecione o Tipo</option>
                    <option value="robusta">Robusta</option>
                    <option value="arabica">Arábica</option>
                </select>
                <p>Quantas sacas você produziu no ultimo ano?</p>
                <input id="input_saca" type="text" name="text" class="input">
                <p>Quantas sacas você perdeu no ultimo ano?</p>
                <input id="input_perda" type="text" name="text" class="input"><br>
                <button onclick="calcular()" class="button">Calcular</button>

            </div>

        </div>
    </div>


    <footer>
        <div id='footer' class='footer'>
            <div class='rectangle39'>
                <img id='viewcoffee' class='viewcoffee' src='../img/logo_image.png'>
            </div>
            <div class='rectangle38'>

                <div id='contate-nos' class='contate-nos'>
                    Contate-nos
                    <img id='outlook' class='outlook' src="../img/img_outlook.png">
                </div>
            </div>

            <div class='todosdireitosreservados'>
                @ 2024 todos direitos reservados
            </div>

        </div>
    </footer>
    <div class="modal-container" id="div_modal">
        <div class="modal">
          <h2>Simulando perdas</h2>
          <br />
          <span id="span_resposta"></span>
          <br />
          <div class="btns">
            <a href="../index.html"><button class="btnVoltar" onclick="closeModal()">Contate-nos</button></a>
            <button class="btnFechar" onclick="closeModal()">X</button>
          </div>
        </div>
      </div>
</body>

</html>

<script>

    const modal = div_modal

    function closeModal(){
        modal.classList.remove('active')
    }

    function calcular() {
        var tipo = select_cafe.value;
        var saca = Number(input_saca.value);
        var perda = Number(input_perda.value);
        var porcentagem = 100 * perda / saca;
        var salvar = perda * 0.2;

        var fatAra = saca * 942.08;
        var fatRob = saca * 697.05;

        var kg = saca * 60;

        if (saca == "" || tipo == "" || perda == "") {
            msg.innerHTML = "Preencha todos os campos!";
            document.getElementById("span_resposta").style.color = "red";
        } else {

            if (tipo == "arabica") {

                span_resposta.innerHTML = `Olá, obrigado por consultar <b> View Coffee </b> <br><br>
                Percebemos com base nos dados informados que você faturou aproximadamente R$${fatAra} reais em 2023 (preço médio de dez/2023) <br> <br>
                Com uma produção de aproximadamnte de ${kg} kilos <br><br>
                Percebemos que sua perda foi de ${porcentagem}% <br><br>
                Com base na ultima safra, poderíamos salvar: R$${salvar * 942.08} ou ${salvar} sacas<br><br>
                Com faturamento possivel na proxima safra de: <strong>R$${(saca * 942.08) + (salvar * 942.08)}</strong> <br><br>`;
                modal.classList.add('active');


            } else {

                if (tipo == "robusta") {
                    span_resposta.innerHTML = `Olá, obrigado por consultar <b> View Coffee </b> <br><br>
                Percebemos com base nos dados informados que você faturou aproximadamente R$${fatRob} reais em 2023 (preço médio de dez/2023) <br> <br>
                Com uma produção de aproximadamnte de ${kg} kilos <br><br>
                Percebemos que sua perda foi de ${porcentagem}% <br><br>
                Com base na ultima safra, poderíamos salvar: R$${salvar * 697.05} ou ${salvar} sacas<br><br>
                Com faturamento possivel na proxima safra de: <strong> R$${(saca * 697.05) + (salvar * 697.05)} </strong>`;
                modal.classList.add('active');

                } else {
                    span_resposta.innerHTML = "Tipo de grão não encontrado, verifique o preenchimento do campo!";
                    modal.classList.add('active');
                }
            }

        }


    }

    /*
    
    preço arabica: 996,52
    preço robusta: 845,75
    
    amarzenamento das sacas de café: base de 4 por 2, com uma altura de 18 a 25 sacos
    
    uma saca de café cru da 45 de torrado
    
    se a umidade estiver menor que 10% será necessario mais café para compor a saca, se ultrapassar os 12% occore o branqueamento
    
    */

</script>